import{h as p,l as v,a as j,j as e,O as k,Q as B}from"./index-CYtOorbY.js";import{e as i,S as m}from"./DefaultLayout-BVsQPo94.js";import{C as F,a as S}from"./CCardBody-CdB7bGAD.js";import{C as T,a as U,b as D,c as b,d as n,e as M,f as t}from"./CTable-Dq8BXfER.js";import{C as E,a as q,b as H,c as z,d as P}from"./CModalTitle-C7VZlUGm.js";import{C as d,a as o}from"./CRow-CGJPJT0C.js";const Q=()=>{const f=p(s=>s.users.items),C=p(s=>s.department.items),h=v(),[N,r]=j.useState(!1),[a,x]=j.useState(null),g=s=>{x({...s}),r(!0)},y=s=>{m.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"}).then(c=>{c.isConfirmed&&(h(k(s)),m.fire("Deleted!","User has been deleted successfully.","success"))})},l=s=>{const{name:c,value:w}=s.target;x({...a,[c]:w})},u=s=>{s.preventDefault(),h(B(a)),r(!1),m.fire({position:"top-center",icon:"success",title:"User information updated",showConfirmButton:!1,timer:1500})};return e.jsxs(F,{children:[e.jsx(T,{children:e.jsx("h4",{children:"User Management"})}),e.jsxs(S,{children:[e.jsxs(U,{responsive:!0,hover:!0,bordered:!0,children:[e.jsx(D,{color:"light",children:e.jsxs(b,{children:[e.jsx(n,{scope:"col",children:"Name"}),e.jsx(n,{scope:"col",children:"Surname"}),e.jsx(n,{scope:"col",children:"Father's Name"}),e.jsx(n,{scope:"col",children:"Department"}),e.jsx(n,{scope:"col",children:"Email"}),e.jsx(n,{scope:"col",children:"Position"}),e.jsx(n,{scope:"col",children:"Actions"})]})}),e.jsx(M,{children:f.map(s=>s.role==="user"&&e.jsxs(b,{children:[e.jsx(t,{children:s.name}),e.jsx(t,{children:s.surName}),e.jsx(t,{children:s.fatherName}),e.jsx(t,{children:s.departmentName}),e.jsx(t,{children:s.email}),e.jsx(t,{children:s.position}),e.jsxs(t,{children:[e.jsx(i,{color:"info",size:"sm",className:"me-2",onClick:()=>g(s),children:"Edit"}),e.jsx(i,{color:"danger",size:"sm",onClick:()=>y(s.id),children:"Delete"})]})]},s.id))})]}),e.jsxs(E,{visible:N,onClose:()=>r(!1),backdrop:"static",size:"lg",children:[e.jsx(q,{closeButton:!0,children:e.jsx(H,{children:"Edit User"})}),e.jsx(z,{children:a&&e.jsxs("form",{onSubmit:u,children:[e.jsxs(d,{className:"mb-3",children:[e.jsx(o,{md:6,children:e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name",children:"Name"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"name",name:"name",type:"text",value:a.name,onChange:l,required:!0})]})}),e.jsx(o,{md:6,children:e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"surName",children:"Surname"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"surName",name:"surName",type:"text",value:a.surName,onChange:l,required:!0})]})})]}),e.jsxs(d,{className:"mb-3",children:[e.jsx(o,{md:6,children:e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"fatherName",children:"Father's Name"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"fatherName",name:"fatherName",type:"text",value:a.fatherName,onChange:l})]})}),e.jsx(o,{md:6,children:e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"departmentName",children:"Department"}),e.jsx("select",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"departmentName",name:"departmentName",value:a.departmentName,onChange:l,children:C.map(s=>e.jsx("option",{value:s.name,children:s.name},s.id))})]})})]}),e.jsxs(d,{className:"mb-3",children:[e.jsx(o,{md:6,children:e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"position",children:"Position"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"position",name:"position",type:"position",value:a.position,onChange:l,required:!0})]})}),e.jsx(o,{md:6,children:e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"email",name:"email",type:"email",value:a.email,onChange:l,required:!0})]})})]}),e.jsx(d,{className:"mb-3",children:e.jsx(o,{md:6,children:e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"Password"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"password",name:"password",type:"text",value:a.password,onChange:l,required:!0})]})})})]})}),e.jsxs(P,{children:[e.jsx(i,{color:"secondary",onClick:()=>r(!1),children:"Cancel"}),e.jsx(i,{color:"primary",onClick:u,children:"Save"})]})]})]})]})};export{Q as default};
