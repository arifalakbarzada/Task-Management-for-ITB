import{h as r,l as u,a as m,j as e,w as D}from"./index-CYtOorbY.js";import{c as f}from"./createLucideIcon-ogFlJnPM.js";import{C,a as y,b,c as N,d as g}from"./CModalTitle-C7VZlUGm.js";import{e as M}from"./DefaultLayout-BVsQPo94.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],P=f("Eye",w),V=()=>{const c=r(s=>s.tasks.items),i=r(s=>s.users.user),o=u(),[l,n]=m.useState(null),h=(s,t)=>{o(D({...t,status:s}))},x=s=>{const t=new Date,p=new Date(s)-t,a=Math.ceil(p/(1e3*60*60*24));return a<0?"text-red-600":a<=7?"text-yellow-600":"text-gray-800"},j=s=>{const t=new Date;return new Date(s)<t};return e.jsxs("div",{className:"container",children:[e.jsxs("table",{className:"table mt-3 w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:e.jsx("p",{className:"p-2",children:"Title"})}),e.jsx("th",{className:"hidden [@media(min-width:481px)]:table-cell",children:e.jsx("p",{className:"p-2",children:"Deadline"})}),e.jsx("th",{children:e.jsx("p",{className:"p-2",children:"Status"})}),e.jsx("th",{children:e.jsx("p",{className:"p-2",children:"Details"})})]})}),e.jsx("tbody",{children:c.filter(s=>s.userId===i.id).map(s=>{const t=j(s.deadline);return e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{children:e.jsx("p",{className:"p-2",children:s.title})}),e.jsx("td",{className:"hidden [@media(min-width:481px)]:table-cell",children:e.jsx("p",{className:`p-2 ${x(s.deadline)}`,children:s.deadline})}),e.jsx("td",{children:e.jsxs("select",{value:s.status,onChange:d=>!t&&h(d.target.value,s),disabled:t,className:`border rounded-md p-2 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 ${t?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"In Progress",children:"In Progress"}),e.jsx("option",{value:"Completed",children:"Completed"})]})}),e.jsx("td",{children:e.jsx("button",{className:"p-2",onClick:()=>n(s),children:e.jsx(P,{})})})]},s.id)})})]}),e.jsxs(C,{visible:!!l,onClose:()=>n(null),children:[e.jsx(y,{children:e.jsx(b,{children:"Task Details"})}),e.jsxs(N,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Title:"})," ",l==null?void 0:l.title]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Description:"})," ",l==null?void 0:l.description]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Deadline:"})," ",l==null?void 0:l.deadline]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",l==null?void 0:l.status]})]}),e.jsx(g,{children:e.jsx(M,{color:"secondary",onClick:()=>n(null),children:"Close"})})]})]})};export{V as default};
